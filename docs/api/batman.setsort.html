---
layout: api_docs
title: Batman.SetSort
meta: 
  grouping: Data Structures
  parent: Batman.Set
sub: 
  - title: "constructor"
    meta: 
      type: function
      level: prototype
      params: "base : Set, key : String, order : [\"asc\"|\"desc\", default \"asc\"]"
      returnType: SetSort
    tokens: []
    id: prototype_function_constructor
    html: "<p>Returns a new <code>SetSort</code>, tracking <code>base</code> and ordering by <code>key</code> in the direction of <code>order</code>.</p>\n"
  - title: isSorted
    meta: 
      type: property
      level: prototype
      params: "[= true]"
      returnType: !<tag:yaml.org,2002:js/undefined> ""
    tokens: []
    id: prototype_property_issorted
    html: "<p>Returns <code>true</code>.</p>\n"
  - title: key
    meta: 
      type: property
      level: prototype
      params: !<tag:yaml.org,2002:js/undefined> ""
      returnType: String
    tokens: []
    id: prototype_property_key
    html: "<p>Returns the key used to sort members of the <code>SetSort</code>, as defined in the constructor.</p>\n"
  - title: descending
    meta: 
      type: property
      level: prototype
      params: !<tag:yaml.org,2002:js/undefined> ""
      returnType: !<tag:yaml.org,2002:js/undefined> ""
    tokens: []
    id: prototype_property_descending
    html: "<p><code>true</code> if <code>&quot;desc&quot;</code> was passed to as <code>order</code> to the constructor, otherwise <code>false</code>. Descending <code>SetSort</code>s may also be made by getting <code>sortedByDescending</code> from a <code>Set</code>:</p>\n<pre><code>test <span class=\"string\">\"get sortedByDescending creates a descending SetSort\"</span>, -&gt;\n  batmobile = <span class=\"keyword\">new</span> Batman.Object(name: <span class=\"string\">\"Batmobile\"</span>, wheelCount: <span class=\"number\">4</span>)\n  batcycle = <span class=\"keyword\">new</span> Batman.Object(name: <span class=\"string\">\"Batcycle\"</span>, wheelCount: <span class=\"number\">2</span>)\n  vehicles = <span class=\"keyword\">new</span> Batman.Set(batmobile, batcycle)\n\n  vehiclesByWheelCountDescending1 = <span class=\"keyword\">new</span> Batman.SetSort(vehicles, <span class=\"string\">'wheelCount'</span>, <span class=\"string\">'desc'</span>)\n  vehiclesByWheelCountDescending2 = vehicles.get(<span class=\"string\">'sortedByDescending.wheelCount'</span>)\n\n  <span class=\"keyword\">for</span> descendingSetSort <span class=\"keyword\">in</span> [vehiclesByWheelCountDescending1, vehiclesByWheelCountDescending2]\n    equal descendingSetSort.descending, <span class=\"literal\">true</span>\n    deepEqual descendingSetSort.mapToProperty(<span class=\"string\">'wheelCount'</span>), [<span class=\"number\">4</span>, <span class=\"number\">2</span>]</code></pre>\n"
  - title: find
    meta: 
      type: function
      level: prototype
      params: "func : Function"
      returnType: !<tag:yaml.org,2002:js/undefined> ""
    tokens: []
    id: prototype_function_find
    html: "<p>Returns the first item from the <code>SetSort</code> for which <code>func(item)</code> returns a truthy value.</p>\n"
  - title: forEach
    meta: 
      type: function
      level: prototype
      params: "func : Function"
      returnType: !<tag:yaml.org,2002:js/undefined> ""
    tokens: []
    id: prototype_function_foreach
    html: "<p>Calls <code>func(item)</code> for each item in the <code>SetSort</code>.</p>\n"
  - title: toArray
    meta: 
      type: function
      level: prototype
      params: ""
      returnType: Array
    tokens: []
    id: prototype_function_toarray
    html: "<p>Returns a sorted array representation of the <code>SetSort</code>&#39;s contents.</p>\n"
  - title: merge
    meta: 
      type: function
      level: prototype
      params: "other : Set"
      returnType: SetSort
    tokens: []
    id: prototype_function_merge
    html: "<p>Returns a new <code>SetSort</code> whose items are the union of this <code>SetSort</code> and <code>other</code>. It will have the same <code>key</code> and <code>order</code> as the starting <code>SetSort</code>.</p>\n"
  - title: compare
    meta: 
      type: function
      level: prototype
      params: "a, b"
      returnType: Number
    tokens: []
    id: prototype_function_compare
    html: "<p>Returns:</p>\n<ul>\n<li><code>-1</code> if <code>a</code> has higher precedence than <code>b</code></li>\n<li><code>0</code> if <code>a</code> and <code>b</code> have equal precedence or if precedence can&#39;t be determined</li>\n<li><code>1</code> if <code>b</code> has higher precedence than <code>a</code></li>\n</ul>\n<p>Precedence is determined by testing for <code>undefined</code>, <code>null</code>, <code>false</code>, <code>true</code>, <code>NaN</code>, <code>a &lt; b</code> and <code>a &gt; b</code>. Please see <a href=\"https://github.com/batmanjs/batman/blob/master/src/set/set_sort.coffee#L91\">the source</a> for implementation details.</p>\n<p>Since <code>::compareElements</code> delegates to <code>::compare</code>, you can acheive custom sorting by overriding <code>::compare</code> in a <code>SetSort</code> subclass.</p>\n"
  - title: compareElements
    meta: 
      type: function
      level: prototype
      params: "a, b"
      returnType: Number
    tokens: []
    id: prototype_function_compareelements
    html: "<p>Used by <code>SetSort</code> to compare its elements when sorting. Like <code>::compare</code>, it returns <code>-1</code>, <code>0</code>, or <code>1</code>. To arrive at this value, it:</p>\n<ul>\n<li>tries <code>a.get(@key)</code> (where <code>@key</code> is the <code>SetSort</code>s key)</li>\n<li>if the resulting value is a function, calls <code>resultingFunction(a)</code></li>\n<li>calls <code>resultingValue.valueOf()</code></li>\n<li>repeats the process for <code>b</code></li>\n<li>delegates to <code>::compare</code> to compare the resulting values</li>\n<li>inverts the value if <code>::.descending</code></li>\n</ul>\n<p>By following this process, it provides sort values for <a href=\"/docs/api/batman.object.html\"><code>Batman.Object</code></a>s <code>a</code> and <code>b</code> according to <code>@key</code>.</p>\n"
tokens: []
id: batman.setsort
html: "<p><a href=\"/docs/api/batman.setsort.html\"><code>Batman.SetSort</code></a> is a <a href=\"/docs/api/batman.setproxy.html\"><code>Batman.SetProxy</code></a> which sorts the members of its <code>base</code> by provided <code>key</code> and <code>order</code>. Through <code>SetProxy</code>, <code>SetSort</code> extends <a href=\"/docs/api/batman.object.html\"><code>Batman.Object</code></a> and <a href=\"/docs/api/batman.enumerable.html\"><code>Batman.Enumerable</code></a>. <code>SetSort</code>s are generally derived from <code>Set</code>s. For example:</p>\n<pre><code>test <span class=\"string\">\"SetSorts are sorted proxies of their Sets\"</span>, -&gt;\n  batmobile = <span class=\"keyword\">new</span> Batman.Object(name: <span class=\"string\">\"Batmobile\"</span>, wheelCount: <span class=\"number\">4</span>)\n  batcycle = <span class=\"keyword\">new</span> Batman.Object(name: <span class=\"string\">\"Batcycle\"</span>, wheelCount: <span class=\"number\">2</span>)\n  vehicles = <span class=\"keyword\">new</span> Batman.Set(batmobile, batcycle)\n\n  vehiclesByWheelCount1 = <span class=\"keyword\">new</span> Batman.SetSort(vehicles, <span class=\"string\">'wheelCount'</span>) <span class=\"comment\"># order defaults to 'asc'</span>\n  vehiclesByWheelCount2 = vehicles.sortedBy(<span class=\"string\">'wheelCount'</span>)\n  vehiclesByWheelCount3 = vehicles.get(<span class=\"string\">'sortedBy.wheelCount'</span>)\n\n  batcopter = <span class=\"keyword\">new</span> Batman.Object(name: <span class=\"string\">\"Batcopter\"</span>, wheelCount: <span class=\"number\">0</span>)\n  vehicles.add(batcopter)\n\n  <span class=\"keyword\">for</span> setSort <span class=\"keyword\">in</span> [vehiclesByWheelCount1, vehiclesByWheelCount2, vehiclesByWheelCount3]\n    deepEqual setSort.mapToProperty(<span class=\"string\">'wheelCount'</span>), [<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>]</code></pre>\n<h3 id=\"using-a-batman-setsort\">Using a Batman.SetSort</h3>\n<p><a href=\"/docs/api/batman.setsort.html\"><code>Batman.SetSort</code></a> is batman.js&#39;s ordered collection data structure. <a href=\"/docs/api/batman.set.html\"><code>Batman.Set</code></a> <em>does not</em> have a specific order, but a <a href=\"/docs/api/batman.setsort.html\"><code>Batman.SetSort</code></a> does.</p>\n<p>Since a <code>SetSort</code> is a proxy of a <code>Set</code>, the easiest way to make one is to use <a href=\"/docs/api/batman.set.html#prototype_function_sortedby\"><code>Set::sortedBy</code></a>:</p>\n<pre><code class=\"lang-coffeescript\">sortedVehicles = vehicles.sortedBy(<span class=\"string\">'wheelcount'</span>)</code></pre>\n<p>You can also make <code>SetSort</code>s in view bindings:</p>\n<pre><code class=\"lang-html\">&lt;ul&gt;\n  &lt;li data-foreach-vehicle=<span class=\"string\">'vehicles.sortedBy.wheelcount'</span>&gt;\n    &lt;!-- will render vehicles ordered <span class=\"keyword\">by</span> wheelcount --&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;</code></pre>\n<p><code>SetSort</code>s are <strong>observable</strong> proxies of their underlying <code>Set</code>s. So, when the <code>Set</code> is changed (ie, items are added, removed, or modified):</p>\n<ul>\n<li>The <code>SetSort</code> is automatically updated by batman.js</li>\n<li>Any view bindings or accessors depending on the <code>SetSort</code> are updated</li>\n</ul>\n"

---

{{ page.html }}
<ul class="api-list">
{% for s in page.sub %}
  <li class="api-list-item">
    <h3 class="api-title">
      <a id="{{ s.id }}" class="anchor-target"></a>
      <a href="#{{ s.id }}" class="anchor-link">
      <span class="{% if s.meta %}monospace-heading{% endif %}">{% if s.meta.level == 'class' %}@{% endif %}{{ s.title }}{% if s.meta.params %}{% if s.meta.type == 'property' %}<span class="params">{{ s.meta.params }}</span>{% else %}<span class="params">({{ s.meta.params }})</span>  {% endif %}{% endif %}{% if s.meta.returnType %}<span class="return-type"> : {{ s.meta.returnType }}</span>{% endif %}</span>
      </a>
    </h3>
    {{ s.html }}
  </li>
{% endfor %}
</ul>
