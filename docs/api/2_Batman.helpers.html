---
layout: api_docs
title: Batman.helpers
sub: 
  - title: "ordinalize(value : [number|string]) : string"
    tokens: []
    id: "2_0_ordinalize(value_%3A_%5Bnumber%7Cstring%5D)_%3A_string"
    html: "<p><code>ordinalize</code> converts a given integer into an ordinal string for describing position in a list, like 1st, 2nd, or 20th.</p>\n<pre><code><span class=\"comment\">test</span> <span class=\"comment\">'ordinalize</span> <span class=\"comment\">converts</span> <span class=\"comment\">numbers</span> <span class=\"comment\">to</span> <span class=\"comment\">their</span> <span class=\"comment\">ordinal</span> <span class=\"comment\">form'</span>, <span class=\"literal\">-</span>&gt;\n  <span class=\"comment\">equal</span> <span class=\"comment\">Batman</span>.<span class=\"comment\">helpers</span>.<span class=\"comment\">ordinalize(1)</span>     <span class=\"string\">,</span> <span class=\"comment\">\"1st\"</span>\n  <span class=\"comment\">equal</span> <span class=\"comment\">Batman</span>.<span class=\"comment\">helpers</span>.<span class=\"comment\">ordinalize(\"2\")</span>     <span class=\"string\">,</span> <span class=\"comment\">\"2nd\"</span>\n  <span class=\"comment\">equal</span> <span class=\"comment\">Batman</span>.<span class=\"comment\">helpers</span>.<span class=\"comment\">ordinalize(1002)</span>  <span class=\"string\">,</span> <span class=\"comment\">\"1002nd\"</span>\n  <span class=\"comment\">equal</span> <span class=\"comment\">Batman</span>.<span class=\"comment\">helpers</span>.<span class=\"comment\">ordinalize(\"1003\")</span>  <span class=\"string\">,</span> <span class=\"comment\">\"1003rd\"</span>\n  <span class=\"comment\">equal</span> <span class=\"comment\">Batman</span>.<span class=\"comment\">helpers</span>.<span class=\"comment\">ordinalize(</span>-<span class=\"comment\">11)</span>   <span class=\"string\">,</span> <span class=\"comment\">\"</span>-<span class=\"comment\">11th\"</span>\n  <span class=\"comment\">equal</span> <span class=\"comment\">Batman</span>.<span class=\"comment\">helpers</span>.<span class=\"comment\">ordinalize(</span>-<span class=\"comment\">1021)</span> <span class=\"string\">,</span> <span class=\"comment\">\"</span>-<span class=\"comment\">1021st\"</code></pre>\n"
  - title: "singularize(pluralString : string) : string"
    tokens: []
    id: "2_1_singularize(pluralString_%3A_string)_%3A_string"
    html: "<p><code>singularize</code> converts the plural form of a word to a singular form.</p>\n<pre><code>test 'singularize converts plural <span class=\"property\">words</span> <span class=\"keyword\">to</span> singular <span class=\"property\">words</span>', -&gt;\n  <span class=\"keyword\">equal</span> Batman.helpers.singularize(<span class=\"string\">\"posts\"</span>), <span class=\"string\">\"post\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.singularize(<span class=\"string\">\"octopi\"</span>), <span class=\"string\">\"octopus\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.singularize(<span class=\"string\">\"sheep\"</span>), <span class=\"string\">\"sheep\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.singularize(<span class=\"string\">\"word\"</span>), <span class=\"string\">\"word\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.singularize(<span class=\"string\">\"CamelOctopi\"</span>), <span class=\"string\">\"CamelOctopus\"</span></code></pre>\n"
  - title: "pluralize(singularString : string) : string"
    tokens: []
    id: "2_2_pluralize(singularString_%3A_string)_%3A_string"
    html: "<p><code>pluralize</code> converts the singular form of a word to the plural form.</p>\n<pre><code>test 'pluralize converts plural <span class=\"property\">words</span> <span class=\"keyword\">to</span> singular <span class=\"property\">words</span>', -&gt;\n  <span class=\"keyword\">equal</span> Batman.helpers.pluralize(<span class=\"string\">\"post\"</span>), <span class=\"string\">\"posts\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.pluralize(<span class=\"string\">\"octopus\"</span>), <span class=\"string\">\"octopi\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.pluralize(<span class=\"string\">\"sheep\"</span>), <span class=\"string\">\"sheep\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.pluralize(<span class=\"string\">\"words\"</span>), <span class=\"string\">\"words\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.pluralize(<span class=\"string\">\"CamelOctopus\"</span>), <span class=\"string\">\"CamelOctopi\"</span></code></pre>\n"
  - title: "camelize(string, [lowercaseFirstLetter = false]) : string"
    tokens: []
    id: "2_3_camelize(string%2C_%5BlowercaseFirstLetter_%3D_false%5D)_%3A_string"
    html: "<p><code>camelize</code> converts the passed <code>string</code> to UpperCamelCase. If the second argument is passed as <code>true</code>, then lowerCamelCase is returned.</p>\n<pre><code>test 'camelize returns <span class=\"keyword\">the</span> CamelCase <span class=\"property\">version</span> <span class=\"keyword\">of</span> an under_scored <span class=\"property\">word</span>', -&gt;\n  <span class=\"keyword\">equal</span> Batman.helpers.camelize(<span class=\"string\">\"batman_object\"</span>), <span class=\"string\">\"BatmanObject\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.camelize(<span class=\"string\">\"batman_object\"</span>, <span class=\"constant\">true</span>), <span class=\"string\">\"batmanObject\"</span></code></pre>\n"
  - title: "underscore(string) : string"
    tokens: []
    id: "2_4_underscore(string)_%3A_string"
    html: "<p><code>underscore</code> returns the underscored version of a CamelCase word.</p>\n<pre><code>test <span class=\"attribute\">'underscore</span> converts CamelCase <span class=\"keyword\">to</span> under_scores', -&gt;\n  equal Batman.helpers.underscore(<span class=\"string\">\"BatmanObject\"</span>), <span class=\"string\">\"batman_object\"</span></code></pre>\n"
  - title: "capitalize(string) : string"
    tokens: []
    id: "2_5_capitalize(string)_%3A_string"
    html: "<p><code>capitalize</code> does a word-wise capitalization of a phrase or word.</p>\n<pre><code>test 'capitalize makes <span class=\"keyword\">the</span> <span class=\"keyword\">first</span> letter <span class=\"keyword\">of</span> each <span class=\"property\">word</span> <span class=\"keyword\">in</span> <span class=\"keyword\">the</span> <span class=\"type\">string</span> uppercase', -&gt;\n  <span class=\"keyword\">equal</span> Batman.helpers.capitalize(<span class=\"string\">\"batmanObject\"</span>), <span class=\"string\">\"BatmanObject\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.capitalize(<span class=\"string\">\"batman object\"</span>), <span class=\"string\">\"Batman Object\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.capitalize(<span class=\"string\">\"AlreadyCapitalized\"</span>), <span class=\"string\">\"AlreadyCapitalized\"</span></code></pre>\n"
  - title: "trim(string) : string"
    tokens: []
    id: "2_6_trim(string)_%3A_string"
    html: "<p><code>trim</code> trims a string getting rid of extra white space around the string or returning an empty string if it is null.</p>\n<pre><code>test 'trim gets rid <span class=\"keyword\">of</span> <span class=\"constant\">space</span> <span class=\"keyword\">around</span> a <span class=\"type\">string</span>', -&gt;\n  <span class=\"keyword\">equal</span> Batman.helpers.trim(<span class=\"string\">\"TrimRight \"</span>), <span class=\"string\">\"TrimRight\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.trim(<span class=\"string\">\" TrimLeft\"</span>), <span class=\"string\">\"TrimLeft\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.trim(<span class=\"string\">\" TrimBothSides \"</span>), <span class=\"string\">\"TrimBothSides\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.trim(<span class=\"string\">\"AlreadyTrimmed\"</span>), <span class=\"string\">\"AlreadyTrimmed\"</span>\n\ntest 'trim turns a null <span class=\"keyword\">or</span> undefined <span class=\"type\">string</span> <span class=\"keyword\">into</span> an empty <span class=\"type\">string</span>', -&gt;\n  <span class=\"keyword\">equal</span> Batman.helpers.trim(null), <span class=\"string\">\"\"</span>\n  <span class=\"keyword\">equal</span> Batman.helpers.trim(undefined), <span class=\"string\">\"\"</span></code></pre>\n"
  - title: "interpolate(stringOrObject, keys) : string"
    tokens: []
    id: "2_7_interpolate(stringOrObject%2C_keys)_%3A_string"
    html: "<p><code>interpolate</code> interpolates a string, filling it in with values matching interpolation keys, similar to printf variants.</p>\n<pre><code>test 'interpolate fills <span class=\"flow\">in</span> key values globally <span class=\"flow\">in</span> a string', -&gt;\n  equal Batman.helpers.interpolate(\"%{field} must be at least %{count} characters <span class=\"flow\">in</span> order <span class=\"flow\">for</span> %{field} to be valid\", count: \"<span class=\"number\">3</span>\", field: \"name\"), \"name must be at least <span class=\"number\">3</span> characters <span class=\"flow\">in</span> order <span class=\"flow\">for</span> name to be valid\"\n\ntest 'interpolate fills <span class=\"flow\">in</span> key values globally <span class=\"flow\">in</span> an object-embedded string', -&gt;\n  equal Batman.helpers.interpolate({'other': \"%{field} must be at least %{count} characters <span class=\"flow\">in</span> order <span class=\"flow\">for</span> %{field} to be valid\"}, count: \"<span class=\"number\">3</span>\", field: \"name\"), \"name must be at least <span class=\"number\">3</span> characters <span class=\"flow\">in</span> order <span class=\"flow\">for</span> name to be valid\"\n\ntest 'interpolate fills <span class=\"flow\">in</span> key values globally <span class=\"flow\">in</span> an object-embedded string, embedded by key count', -&gt;\n  equal Batman.helpers.interpolate({<span class=\"number\">3</span>: \"%{field} must be at least %{count} characters <span class=\"flow\">in</span> order <span class=\"flow\">for</span> %{field} to be valid\"}, count: \"<span class=\"number\">3</span>\", field: \"name\"), \"name must be at least <span class=\"number\">3</span> characters <span class=\"flow\">in</span> order <span class=\"flow\">for</span> name to be valid\"</code></pre>\n"
  - title: "humanize(string) : string"
    tokens: []
    id: "2_8_humanize(string)_%3A_string"
    html: "<p><code>humanize</code> reformats a string that has a programmatic meaning (camelcased, underscored, &quot;_id&quot; suffixed) to make human-readable by separating concatenated words and/or getting rid of the &quot;_id&quot; suffix.</p>\n<pre><code>test <span class=\"attribute\">'humanize</span> replaces underscores <span class=\"keyword\">and</span> dashes <span class=\"keyword\">with</span> empty space', -&gt;\n  equal Batman.helpers.humanize(<span class=\"attribute\">'underscored_string</span>'), <span class=\"attribute\">'Underscored</span> <span class=\"typename\">string</span>'\n  equal Batman.helpers.humanize(<span class=\"attribute\">'dash</span>-separated-<span class=\"typename\">string</span>'), <span class=\"attribute\">'Dash</span> separated <span class=\"typename\">string</span>'\n\ntest <span class=\"attribute\">'humanize</span> splits camel cased words by empty space', -&gt;\n  equal Batman.helpers.humanize(<span class=\"attribute\">'CamelCasedString</span>'), <span class=\"attribute\">'Camel</span> cased <span class=\"typename\">string</span>'\n\ntest <span class=\"attribute\">'humanize</span> title-cases the first word', -&gt;\n  equal Batman.helpers.humanize(<span class=\"attribute\">'lower</span> <span class=\"keyword\">case</span> sentence'), <span class=\"attribute\">'Lower</span> <span class=\"keyword\">case</span> sentence'\n\ntest <span class=\"attribute\">'humanize</span> lower-cases <span class=\"keyword\">all</span> words <span class=\"keyword\">after</span> the first one', -&gt;\n  equal Batman.helpers.humanize(<span class=\"attribute\">'Mixed</span> <span class=\"keyword\">Case</span> SENTENCE'), <span class=\"attribute\">'Mixed</span> <span class=\"keyword\">case</span> sentence'\n\ntest <span class=\"attribute\">'humanize</span> gets rid <span class=\"keyword\">of</span> _id suffix', -&gt;\n  equal Batman.helpers.humanize(<span class=\"attribute\">'identifying_string_id</span>'), <span class=\"attribute\">'Identifying</span> <span class=\"typename\">string</span>'</code></pre>\n"
  - title: Batman.EventEmitter
    tokens: []
    id: 2_9_Batman.EventEmitter
    html: "<p><code>EventEmitter</code> is a mixin which can be applied to any object to give it the ability to fire events and accept listeners for those events.</p>\n<h3>on(key, handler)</h3>\n<p>Attaches a function <code>handler</code> to the event with name <code>key</code>. This function will be executed every time the event fires.</p>\n<pre><code>test 'event handlers execute when attached <span class=\"keyword\">with</span> <span class=\"keyword\">on</span>', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  ok dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"detonated\"</span></code></pre>\n<h3>fire(key, arguments...)</h3>\n<p>Calls all previously attached handlers on the event with name <code>key</code>. All handlers will receive the passed <code>arguments</code>.</p>\n<p><em>Note</em>: Calling <code>fire</code> doesn&#39;t guarantee the event will fire since firing can be prevented with <code>prevent</code> or <code>preventAll</code>.</p>\n<pre><code>test <span class=\"string\">'event handlers are fired'</span>, -&gt;\n  dynamite = <span class=\"variable\">$mixin</span> {}, Batman.EventEmitter\n  dynamite.on <span class=\"string\">'detonate'</span>, (noise) -&gt; <span class=\"keyword\">log</span> <span class=\"string\">\"detonated with noise #{noise}\"</span>\n  dynamite.fire <span class=\"string\">'detonate'</span>, <span class=\"string\">\"BOOM!\"</span>\n  equal logged.<span class=\"keyword\">last</span>, <span class=\"string\">\"detonated with noise BOOM!\"</span></code></pre>\n<h3>hasEvent(key) : boolean</h3>\n<p>Asks if the <code>EventEmitter</code> has an event with the given <code>key</code>.</p>\n<pre><code>test 'events can be tested <span class=\"keyword\">for</span> presence', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"detonated\"</span>\n  ok dynamite.hasEvent('detonate')\n  <span class=\"keyword\">equal</span> dynamite.hasEvent('click'), <span class=\"constant\">false</span></code></pre>\n<h3>oneShot : boolean</h3>\n<p>Events can be set to fire only once, and then fire subsequently attached handlers immediately if they are attached after the initial firing. This is useful for events similar to <code>window.onload</code> where they really only happen once in the lifespan of the application, but you don&#39;t want to check if they have happened already when attaching event handlers.</p>\n<p>Access the <code>Event</code> object to set the <code>oneShot</code> property on them using <code>EventEmitter::event</code>.</p>\n<pre><code>test 'one shot events fire handlers attached <span class=\"keyword\">after</span> they have fired <span class=\"keyword\">for</span> <span class=\"keyword\">the</span> <span class=\"keyword\">first</span> <span class=\"property\">time</span>', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  dynamite.event('detonate').oneShot = <span class=\"constant\">true</span>\n  dynamite.fire('detonate')\n  dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"detonated immediately!!\"</span>\n  <span class=\"keyword\">equal</span> logged.<span class=\"keyword\">last</span>, <span class=\"string\">\"detonated immediately!!\"</span>, <span class=\"string\">\"The handler was called as soon as it was attached.\"</span></code></pre>\n<h3>prevent(key) : EventEmitter</h3>\n<p>Prevents the event with name <code>key</code> from firing, even if <code>.fire</code> is called. This is useful if you need to guarantee a precondition has been fulfilled before allowing event handlers to execute. Returns the event emitting object.</p>\n<p>Undo event prevention with <code>allow</code> or <code>allowAndFire</code>.</p>\n<p><em>Note</em>: <code>prevent</code> can be called more than once to effectively &quot;nest&quot; preventions. <code>allow</code> or <code>allowAndFire</code> must be called the same number of times or more for events to fire once more.</p>\n<pre><code>test <span class=\"string\">'events can be prevented'</span>, -&gt;\n  dynamite = <span class=\"variable\">$mixin</span> {}, Batman.EventEmitter\n  dynamite.prevent(<span class=\"string\">'detonate'</span>)\n  dynamite.on <span class=\"string\">'detonate'</span>, -&gt; <span class=\"keyword\">log</span> <span class=\"string\">\"This shouldn't fire\"</span>\n  dynamite.fire(<span class=\"string\">'detonate'</span>)\n  equal logged.<span class=\"keyword\">last</span>, undefined, <span class=\"string\">\"The event handler wasn't fired.\"</span>\n\ntest <span class=\"string\">'prevent returns the event emitter'</span>, -&gt;\n  dynamite = <span class=\"variable\">$mixin</span> {}, Batman.EventEmitter\n  equal dynamite, dynamite.prevent(<span class=\"string\">'detonate'</span>)</code></pre>\n<h3>allow(key) : EventEmitter</h3>\n<p>Allows the event with name <code>key</code> to fire once more, after <code>prevent</code> had been called previously. <code>allow</code> will not fire the event when called, regardless of whether or not the event can now be fired or if an attempt to fire it was made while the event was prevented. Returns the event emitting object.</p>\n<p><em>Note</em>: <code>prevent</code> can be called more than once to effectively &quot;nest&quot; preventions. <code>allow</code> or <code>allowAndFire</code> must be called the same number of times or more for events to fire once more.</p>\n<pre><code>test 'events can be allowed <span class=\"keyword\">after</span> prevention', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  dynamite.prevent('detonate')\n  dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"This will only fire once\"</span>\n  dynamite.fire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">0</span>, <span class=\"string\">\"The event handler wasn't fired.\"</span>\n  dynamite.allow('detonate')\n  dynamite.fire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">1</span>, <span class=\"string\">\"The event handler was fired.\"</span>\n\ntest 'events must be allowed <span class=\"keyword\">the</span> same <span class=\"type\">number</span> <span class=\"keyword\">of</span> <span class=\"keyword\">times</span> they have been prevented', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  dynamite.prevent('detonate')\n  dynamite.prevent('detonate')\n  dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"This will only fire once\"</span>\n  dynamite.fire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">0</span>, <span class=\"string\">\"The event handler wasn't fired, the prevent count is at 2.\"</span>\n  dynamite.allow('detonate')\n  dynamite.fire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">0</span>, <span class=\"string\">\"The event handler still wasn't fired, but the prevent count is now at 1.\"</span>\n  dynamite.allow('detonate')\n  dynamite.fire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">1</span>, <span class=\"string\">\"The event handler was fired.\"</span>\n\ntest 'allow returns <span class=\"keyword\">the</span> event emitter', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  <span class=\"keyword\">equal</span> dynamite, dynamite.allow('detonate')</code></pre>\n<h3>allowAndFire(key)</h3>\n<p>Allows the event with name <code>key</code> to fire once more, and tries to fire it. <code>allowAndFire</code> may fail to fire the event if <code>prevent</code> has been called more times than <code>allow</code> or <code>allowAndFire</code> have previous.</p>\n<pre><code>test 'events can be allowed <span class=\"keyword\">and</span> fired <span class=\"keyword\">after</span> prevention', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"This will only fire once\"</span>\n  dynamite.prevent('detonate')\n  dynamite.fire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">0</span>, <span class=\"string\">\"The event handler wasn't fired.\"</span>\n  dynamite.allowAndFire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">1</span>, <span class=\"string\">\"The event handler was fired.\"</span>\n\ntest 'events must be allowed <span class=\"keyword\">and</span> fired <span class=\"keyword\">the</span> same <span class=\"type\">number</span> <span class=\"keyword\">of</span> <span class=\"keyword\">times</span> they have been prevented', -&gt;\n  dynamite = $mixin {}, Batman.EventEmitter\n  dynamite.<span class=\"function_start\"><span class=\"keyword\">on</span> </span>'detonate', -&gt; <span class=\"command\">log</span> <span class=\"string\">\"This will only fire once\"</span>\n  dynamite.prevent('detonate')\n  dynamite.prevent('detonate')\n  dynamite.allowAndFire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">0</span>, <span class=\"string\">\"The event handler wasn't fired.\"</span>\n  dynamite.allowAndFire('detonate')\n  <span class=\"keyword\">equal</span> logged.<span class=\"property\">length</span>, <span class=\"number\">1</span>, <span class=\"string\">\"The event handler was fired.\"</span></code></pre>\n"
tokens: []
id: 2_Batman.helpers
html: "<p><code>Batman.helpers</code> is a namespace for Batman&#39;s helpful string manipulation helpers.</p>\n<p><em>Note</em>: Batman&#39;s pluralization functions mirror those of Rails&#39; exactly.</p>\n"

---

{{ page.html }}
{% for s in page.sub %}
  <h3 id="{{ s.id }}">{{ s.title }}</h3>
  {{ s.html }}
{% endfor %}
