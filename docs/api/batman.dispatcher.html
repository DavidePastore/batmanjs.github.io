---
layout: api_docs
title: Batman.Dispatcher
meta: 
  grouping: App Internals
  parent: !<tag:yaml.org,2002:js/undefined> ""
sub: 
  - title: "constructor"
    meta: 
      type: function
      level: prototype
      params: "app: App, routeMap: RouteMap"
      returnType: Dispatcher
    tokens: []
    id: prototype_function_constructor
    html: "<p>Returns a new <a href=\"/docs/api/batman.dispatcher.html\"><code>Batman.Dispatcher</code></a> for the <a href=\"/docs/api/batman.app.html\"><code>Batman.App</code></a> and <code>Batman.RouteMap</code>.</p>\n"
  - title: dispatch
    meta: 
      type: function
      level: prototype
      params: "params, paramsMixin"
      returnType: !<tag:yaml.org,2002:js/undefined> ""
    tokens: []
    id: prototype_function_dispatch
    html: "<p>Uses <code>params</code> to infer a route, then mixes in <code>paramsMixin</code> and dispatches a <code>Batman.Route</code> with the mixed-in result.</p>\n<p>If <code>routeForParams</code> returns a <code>Batman.Route</code>, the dispatcher updates</p>\n<ul>\n<li><code>app.currentRoute</code> with the route</li>\n<li><code>app.currentURL</code> with the pathname</li>\n<li><code>app.currentParams</code> with the mixed-in params</li>\n</ul>\n<p>and then dispatches the route.</p>\n<p>Otherwise, it fires <code>error</code> on the <code>App</code> and redirects to <code>/404</code>.</p>\n"
  - title: canInferRoute
    meta: 
      type: function
      level: class
      params: argument
      returnType: Boolean
    tokens: []
    id: class_function_caninferroute
    html: "<p>Returns <code>true</code> if <code>argument</code> is a <a href=\"/docs/api/batman.model.html\"><code>Batman.Model</code></a> instance, a <a href=\"/docs/api/batman.model.html\"><code>Batman.Model</code></a> constructor, or a <code>Batman.AssociationProxy</code>. In these cases, it can be transformed into routable params by <code>Batman.Dispatcher.paramsFromArgument</code>.</p>\n"
  - title: paramsFromArgument
    meta: 
      type: function
      level: class
      params: argument
      returnType: Object
    tokens: []
    id: class_function_paramsfromargument
    html: "<p>If <code>@canInferRoute(argument)</code> is false, returns <code>argument</code> unchanged. If <code>argument</code> is a <a href=\"/docs/api/batman.model.html\"><code>Batman.Model</code></a> instance or a <code>Batman.AssociationProxy</code> instance, it will return an object like:</p>\n<pre><code class=\"lang-coffeescript\">{\n  controller: <span class=\"string\">\"<span class=\"subst\">#{ClassNameForArgument}</span>\"</span>\n  action:     <span class=\"string\">\"show\"</span>\n  id:         <span class=\"string\">\"<span class=\"subst\">#{argument.toParam()}</span>\"</span>\n}</code></pre>\n<p>If <code>argument</code> is a <a href=\"/docs/api/batman.model.html\"><code>Batman.Model</code></a> constructor, it will return an object like:</p>\n<pre><code class=\"lang-coffeescript\">{\n  controller: <span class=\"string\">\"<span class=\"subst\">#{ClassNameForArgument}</span>\"</span>\n  action:     <span class=\"string\">\"index\"</span>\n}</code></pre>\n"
  - title: controllers
    meta: 
      type: accessor
      level: prototype
      params: !<tag:yaml.org,2002:js/undefined> ""
      returnType: ControllerDirectory
    tokens: []
    id: prototype_accessor_controllers
    html: "<p>Returns the [<code>ControllerDirectory</code>] for the <code>Dispatcher</code></p>\n"
  - title: routeForParams
    meta: 
      type: function
      level: prototype
      params: argument
      returnType: Route
    tokens: []
    id: prototype_function_routeforparams
    html: "<p>Runs <code>argument</code> through <code>Batman.Dispatcher.paramsFromArgument</code>, then returns the <code>Batman.Route</code> from the <code>Dispatcher</code>&#39;s <code>routeMap</code>.</p>\n"
  - title: pathForParams
    meta: 
      type: function
      level: prototype
      params: argument
      returnType: String
    tokens: []
    id: prototype_function_pathforparams
    html: "<p>Returns the stringified path from the <code>Batman.Route</code> for <code>argument</code>.</p>\n"
tokens: []
id: batman.dispatcher
html: "<p><a href=\"/docs/api/batman.dispatcher.html\"><code>Batman.Dispatcher</code></a> infers routing information from other objects and uses it to dispatch controller actions. It extends <a href=\"/docs/api/batman.object.html\"><code>Batman.Object</code></a>.</p>\n<p>Although it&#39;s rare to interact with a <code>Dispatcher</code> directly, every <a href=\"/docs/api/batman.app.html\"><code>Batman.App</code></a> has a dispatcher at <code>MyApp.get(&#39;dispatcher&#39;)</code> once it is running.</p>\n"

---

{{ page.html }}
<ul class="api-list">
{% for s in page.sub %}
  <li class="api-list-item">
    <h3 class="api-title">
      <a id="{{ s.id }}" class="anchor-target"></a>
      <a href="#{{ s.id }}" class="anchor-link">
      <span class="{% if s.meta %}monospace-heading{% endif %}">{% if s.meta.level == 'class' %}@{% endif %}{{ s.title }}{% if s.meta.params %}{% if s.meta.type == 'property' %}<span class="params">{{ s.meta.params }}</span>{% else %}<span class="params">({{ s.meta.params }})</span>  {% endif %}{% endif %}{% if s.meta.returnType %}<span class="return-type"> : {{ s.meta.returnType }}</span>{% endif %}</span>
      </a>
    </h3>
    {{ s.html }}
  </li>
{% endfor %}
</ul>
